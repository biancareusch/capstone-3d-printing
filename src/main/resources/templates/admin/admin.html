<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>admin dashboard</title>
</head>
<body>
<h1>Admin Dashboard</h1>
<h2>All Posts</h2>
<div class="allposts" style="border: black 2px solid" th:each="post : ${allPosts}">
<h5 th:text="${post.title}"></h5>
    <p th:text="${post.description}"></p>
    <form th:action="@{/files/{id}/flag(id=${post.id})}" th:method="post">
        <button th:type="submit" class="btn btn-danger">Flag Post</button>
    </form>
    <form th:action="@{/files/{id}/delete(id=${post.id})}" th:method="delete">
        <button th:type="submit" class="btn btn-danger">Delete Post</button>
    </form>
</div>
<h2>All active Users</h2>
<div class="allUsers" style="border: black 2px solid" th:each="user : ${allUsers}">
    <h5 th:text="${user.username}"></h5>
    <p th:text="${user.joinedAt}"></p>
    <form th:action="@{/users/{id}/flag(id=${user.id})}" th:method="post">
        <button th:type="submit" class="btn btn-danger">Flag User</button>
    </form>
    <form th:action="@{/users/{id}/deactivate(id=${user.id})}" th:method="post">
        <button th:type="submit" class="btn btn-danger">Deactivate User</button>
    </form>
</div>

<h2>Flagged Posts</h2>
<div class="allFlaggedPosts" style="border: black 2px solid" th:each="post : ${flaggedPosts}">
<h3 th:text="${post.title}"></h3>
    <p th:text="${post.description}"></p>
    <p th:text="${post.isFlagged()}"></p>
    <form th:action="@{/files/{id}/unflag(id=${post.id})}" th:method="post">
        <button th:type="submit" class="btn btn-danger">Unflag Post</button>
    </form>
</div>
<h2>Flagged Users</h2>
<div class="allFlaggedUsers"  style="border: black 2px solid" th:each="user : ${flaggedUsers}">
    <h3 th:text="${user.username}"></h3>
    <p th:text="${user.joinedAt}"></p>
    <p th:text="${user.isFlagged()}"></p>
    <form th:action="@{/users/{id}/unflag(id=${user.id})}" th:method="post">
        <button th:type="submit" class="btn btn-danger">Unflag User</button>
    </form>
</div>
<h2>Deactivated Users</h2>
<div class="allDeactivatedUsers"  style="border: black 2px solid" th:each="deUser : ${deactivatedUsers}">
    <h3 th:text="${deUser.username}"></h3>
    <p th:text="${deUser.joinedAt}"></p>
    <p th:text="${deUser.active}"></p>
    <form th:action="@{/users/{id}/activate(id=${deUser.id})}" th:method="post">
        <button th:type="submit" class="btn btn-danger">Re-activate User</button>
    </form>
</div>
</body>
</html>